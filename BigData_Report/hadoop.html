<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Hướng dẫn Hadoop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <style>
        body { background: #f4f6f8; }
        .header-bar { background: #0288d1; color: white; padding: 15px 0; margin-bottom: 30px; }
        .step-card { background: white; border-radius: 8px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .step-number { background: #0288d1; color: white; width: 30px; height: 30px; display: inline-flex; align-items: center; justify-content: center; border-radius: 50%; margin-right: 10px; font-weight: bold; }
        h2 { font-size: 1.3rem; font-weight: 700; color: #333; display: flex; align-items: center; }
        img { max-width: 100%; border: 1px solid #dee2e6; border-radius: 4px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="header-bar">
        <div class="container d-flex justify-content-between align-items-center">
            <h4 class="m-0">CÀI ĐẶT HADOOP CLUSTER</h4>
            <a href="index.html" class="btn btn-outline-light btn-sm">Quay lại Trang chủ</a>
        </div>
    </div>

    <div class="container pb-5">
        
        <div class="step-card">
            <h2><span class="step-number">1</span> Kiến trúc Hệ thống</h2>
            <p>Xây dựng cụm Hadoop 5 Node sử dụng Docker Compose:</p>
            <ul>
                <li><strong>Namenode:</strong> Quản lý Metadata (Cổng 9870).</li>
                <li><strong>Datanode:</strong> Lưu trữ dữ liệu thực tế.</li>
                <li><strong>ResourceManager:</strong> Quản lý tài nguyên YARN (Cổng 8088).</li>
                <li><strong>NodeManager:</strong> Thực thi tác vụ trên từng node.</li>
                <li><strong>HistoryServer:</strong> Lưu nhật ký các Job đã chạy.</li>
            </ul>
        </div>

        <div class="step-card">
            <h2><span class="step-number">2</span> File cấu hình (docker-compose.yml)</h2>
            <pre><code class="language-yaml">version: "3"
services:
  namenode:
    image: bde2020/hadoop-namenode:2.0.0-hadoop3.2.1-java8
    container_name: namenode
    restart: always
    ports:
      - 9870:9870
      - 9000:9000
    volumes:
      - ./hadoop_data/namenode:/hadoop/dfs/name
    env_file:
      - ./hadoop.env

  datanode:
    image: bde2020/hadoop-datanode:2.0.0-hadoop3.2.1-java8
    container_name: datanode
    restart: always
    volumes:
      - ./hadoop_data/datanode:/hadoop/dfs/data
    env_file:
      - ./hadoop.env
  
  resourcemanager:
    image: bde2020/hadoop-resourcemanager:2.0.0-hadoop3.2.1-java8
    container_name: resourcemanager
    restart: always
    ports:
      - 8088:8088
    env_file:
      - ./hadoop.env

  nodemanager:
    image: bde2020/hadoop-nodemanager:2.0.0-hadoop3.2.1-java8
    container_name: nodemanager
    restart: always
    env_file:
      - ./hadoop.env
  
  historyserver:
    image: bde2020/hadoop-historyserver:2.0.0-hadoop3.2.1-java8
    container_name: historyserver
    restart: always
    ports:
      - 8188:8188
    env_file:
      - ./hadoop.env</code></pre>
        </div>

        <div class="step-card">
            <h2><span class="step-number">3</span> Kết quả vận hành</h2>
            <p>Giao diện quản lý HDFS (<code>localhost:9870</code>):</p>
            <img src="anh1_hadoop.png" alt="HDFS UI">
            
            <p class="mt-3">Danh sách các Node đang hoạt động:</p>
            <img src="anh2_hadoop.png" alt="Active Nodes">
        </div>

    </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</body>
</html>